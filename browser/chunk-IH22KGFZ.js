import{a as E}from"./chunk-YVMUOB4W.js";import{Aa as t,Ba as v,Ea as _,Fa as b,Ga as m,Ha as i,Ia as s,Ja as p,Ka as w,La as M,Ma as y,N as C,T as f,U as u,Va as S,Wa as O,Xa as P,ab as B,bb as A,eb as I,hb as z,ka as d,qa as h,sa as x,xa as g,ya as k,za as o}from"./chunk-ALPUV5Q2.js";function N(r,a){if(r&1){let e=_();o(0,"div",20)(1,"span",21),i(2),t(),o(3,"span",22),i(4),t(),o(5,"button",23),b("click",function(){f(e);let l=m().$implicit,c=m();return u(c.showCancelConfirm={slot:l,booking:c.getSlotBooking(l)})}),i(6,"Cancel"),t()()}if(r&2){let e,n,l=m().$implicit,c=m();d(2),s((e=c.getSlotBooking(l))==null?null:e.name),d(2),s((n=c.getSlotBooking(l))==null?null:n.phone)}}function V(r,a){r&1&&(o(0,"div",24),i(1,"Available"),t())}function j(r,a){if(r&1&&(o(0,"div",17)(1,"div"),i(2),t(),x(3,N,7,2,"div",18)(4,V,2,0,"div",19),t()),r&2){let e=a.$implicit,n=m();k("booked",n.getSlotBooking(e))("disabled",!n.getSlotBooking(e)),d(2),p(" ",n.to12HourFormat(e)," "),d(),g("ngIf",n.getSlotBooking(e)),d(),g("ngIf",!n.getSlotBooking(e))}}function $(r,a){if(r&1){let e=_();o(0,"div",25)(1,"div",26)(2,"h3"),i(3,"Cancel Booking"),t(),o(4,"p"),i(5,"Are you sure you want to cancel the booking for "),o(6,"b"),i(7),t(),i(8,"? "),t(),o(9,"p"),i(10),v(11,"br"),i(12),t(),o(13,"div",27)(14,"button",28),b("click",function(){f(e);let l=m();return u(l.confirmCancelSlot())}),i(15,"Yes, Cancel"),t(),o(16,"button",28),b("click",function(){f(e);let l=m();return u(l.cancelCancelSlot())}),i(17,"No"),t()()()()}if(r&2){let e=m();d(7),s(e.to12HourFormat(e.showCancelConfirm.slot)),d(3),p("Name: ",e.showCancelConfirm.booking.name,""),d(2),p("Phone: ",e.showCancelConfirm.booking.phone,"")}}var H=7,R=23;function D(r){return r<10?"0"+r:r}function W(){let r=[];for(let a=H;a<=R;a++)r.push(`${D(a)}:00`),r.push(`${D(a)}:30`);return r}var F=class r{today=new Date;selectedDate=this.today.toISOString().slice(0,10);slots=W();bookingService=C(E);showCancelConfirm=null;get bookingsForSelectedDate(){return this.bookingService.getBookingsForDate(this.selectedDate)}getSlotBooking(a){return this.bookingsForSelectedDate.find(e=>e.slots.includes(a))}to12HourFormat(a){let[e,n]=a.split(":"),l=parseInt(e,10),c=n,T=l>=12?"PM":"AM";return l===0?l=12:l>12&&(l-=12),`${l}:${c} ${T}`}get totalSlots(){return this.slots.length}get availableSlots(){return this.slots.filter(a=>!this.getSlotBooking(a)).length}get bookedSlots(){return this.slots.filter(a=>this.getSlotBooking(a)).length}confirmCancelSlot(){this.showCancelConfirm&&(this.bookingService.cancelSlot(this.selectedDate,this.showCancelConfirm.slot),this.showCancelConfirm=null)}cancelCancelSlot(){this.showCancelConfirm=null}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["admin-page"]],decls:30,vars:7,consts:[[1,"admin-container"],[1,"admin-header-container"],[1,"admin-title"],[1,"summary-cards"],[1,"summary-card","total"],[1,"summary-label"],[1,"summary-value"],[1,"summary-card","available"],[1,"summary-card","booked"],[1,"calendar-container"],[1,"date-picker"],["for","admin-date"],["id","admin-date","type","date",3,"ngModelChange","ngModel"],[1,"slots-grid"],["class","slot",3,"booked","disabled",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"footer"],[1,"slot"],["class","booking-info",4,"ngIf"],["class","no-booking",4,"ngIf"],[1,"booking-info"],[1,"name"],[1,"phone"],[1,"cancel-btn",3,"click"],[1,"no-booking"],[1,"modal"],[1,"modal-content"],[1,"modal-actions"],[3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),i(3,"Bookings"),t(),o(4,"div",3)(5,"div",4)(6,"div",5),i(7,"Total Slots"),t(),o(8,"div",6),i(9),t()(),o(10,"div",7)(11,"div",5),i(12,"Available"),t(),o(13,"div",6),i(14),t()(),o(15,"div",8)(16,"div",5),i(17,"Booked"),t(),o(18,"div",6),i(19),t()()()(),o(20,"div",9)(21,"div",10)(22,"label",11),i(23,"Select Date:"),t(),o(24,"input",12),y("ngModelChange",function(c){return M(n.selectedDate,c)||(n.selectedDate=c),c}),t()(),o(25,"div",13),x(26,j,5,7,"div",14),t(),x(27,$,18,3,"div",15),t(),o(28,"footer",16),i(29),t()()),e&2&&(d(9),s(n.totalSlots),d(5),s(n.availableSlots),d(5),s(n.bookedSlots),d(5),w("ngModel",n.selectedDate),d(2),g("ngForOf",n.slots),d(),g("ngIf",n.showCancelConfirm),d(2),p(" \xA9 ",n.today.getFullYear()," Turf Booking App. All rights reserved. "))},dependencies:[P,S,O,z,B,A,I],styles:[".admin-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 8px #00000014}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.5rem 1rem;text-align:left}th[_ngcontent-%COMP%]{background:#f5f5f5}.calendar-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:1.5rem;background:#fff;border-radius:1rem;box-shadow:0 2px 16px #00000014;display:flex;flex-direction:column;gap:1.5rem}.date-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.slots-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem}.slot[_ngcontent-%COMP%]{padding:.75rem .5rem;text-align:center;border-radius:.5rem;background:repeating-linear-gradient(135deg,#43a047 0 10px,#4caf50 10px 20px)!important;color:#fff!important;font-weight:500;transition:background .2s,color .2s;-webkit-user-select:none;user-select:none;display:flex;flex-direction:column;align-items:center;min-height:60px;justify-content:center;border:1px solid #e0e0e0}.slot.booked[_ngcontent-%COMP%]{background:repeating-linear-gradient(135deg,#ff5252 0 10px,#ff7979 10px 20px)!important;color:#fff!important}.slot.disabled[_ngcontent-%COMP%]{background:#bdbdbd;color:#fff}.slot[_ngcontent-%COMP%]   .no-booking[_ngcontent-%COMP%]{color:#fff;font-weight:600}.booking-info[_ngcontent-%COMP%]{font-size:.9rem;margin-top:.25rem;display:flex;flex-direction:column;gap:.1rem}.booking-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.booking-info[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{font-size:.85rem;color:#fff}.no-booking[_ngcontent-%COMP%]{font-size:.8rem;color:#e3e3e3;margin-top:.25rem}.summary-cards[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;justify-content:center}.summary-card[_ngcontent-%COMP%]{background:repeating-linear-gradient(135deg,#43a047 0 10px,#4caf50 10px 20px);border-radius:50%;width:90px;height:90px;padding:0;min-width:unset;min-height:unset;text-align:center;box-shadow:0 1px 4px #0000000f;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0 .5rem;color:#fff}.summary-card.total[_ngcontent-%COMP%]{background:repeating-linear-gradient(135deg,#1976d2 0 10px,#64b5f6 10px 20px);color:#fff}.summary-card.available[_ngcontent-%COMP%]{background:repeating-linear-gradient(135deg,#43a047 0 10px,#4caf50 10px 20px)!important;color:#fff}.summary-card.booked[_ngcontent-%COMP%]{background:repeating-linear-gradient(135deg,#ff5252 0 10px,#ff7979 10px 20px);color:#fff}.summary-label[_ngcontent-%COMP%]{font-size:.85rem;opacity:.85;margin-bottom:.15rem}.summary-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.cancel-btn[_ngcontent-%COMP%]{margin-top:.3rem;background:#ffd600;color:#222;border:none;border-radius:.4rem;padding:.2rem .7rem;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background:#ffb300}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:1.2rem 1.5rem;border-radius:1rem;box-shadow:0 6px 32px #1976d22e,0 1.5px 6px #43a0471a;min-width:220px;max-width:90vw;display:flex;flex-direction:column;align-items:center;gap:.8rem;animation:_ngcontent-%COMP%_pop-in .25s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_pop-in{0%{transform:scale(.95);opacity:.5}to{transform:scale(1);opacity:1}}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1976d2;font-size:1.1rem;margin-bottom:.25rem;font-weight:700}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.15rem 0;color:#333;font-size:.98rem}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;width:100%;justify-content:center;margin-top:.5rem}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem 1rem;border-radius:.4rem;border:none;font-size:.95rem;font-weight:600;background:#43a047;color:#fff;cursor:pointer;transition:background .2s;min-width:80px}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#ff5252}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(.95)}.footer[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1.2rem 0 .5rem;font-size:.98rem;color:#888;background:none;margin-top:2rem;letter-spacing:.01em}.admin-header-container[_ngcontent-%COMP%]{width:100%;max-width:500px;min-width:0;margin:0 auto 1.2rem;padding:1rem 1.2rem .7rem;background:#fff;border-radius:1rem;box-shadow:0 2px 16px #00000014;display:flex;flex-direction:column;align-items:center;gap:.7rem;box-sizing:border-box}.summary-cards[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.7rem;width:100%;max-width:100%;box-sizing:border-box}.summary-card[_ngcontent-%COMP%]{width:110px;height:110px;min-width:0;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:50%;color:#fff;font-weight:600;font-size:1.1rem;box-shadow:0 2px 8px #00000014;text-align:center;flex-shrink:1}@media (max-width: 700px){.admin-header-container[_ngcontent-%COMP%]{padding:.7rem .3rem .5rem;gap:.5rem;max-width:98vw}.summary-cards[_ngcontent-%COMP%]{gap:.5rem}.summary-card[_ngcontent-%COMP%]{width:80px;height:80px;font-size:.95rem}}"]})};export{F as AdminComponent};

import{R as e}from"./chunk-VC363RFC.js";var n=class i{bookings=[];slotStatus={};constructor(){this.loadBookings()}saveBookings(){localStorage.setItem("bookings",JSON.stringify(this.bookings)),localStorage.setItem("slotStatus",JSON.stringify(this.slotStatus))}loadBookings(){let t=localStorage.getItem("bookings"),o=localStorage.getItem("slotStatus");t&&(this.bookings=JSON.parse(t)),o&&(this.slotStatus=JSON.parse(o))}getBookingsForDate(t){return this.bookings.filter(o=>o.date===t)}addBooking(t){this.bookings.push(t),this.slotStatus[t.date]||(this.slotStatus[t.date]={});for(let o of t.slots)this.slotStatus[t.date][o]="booked";this.saveBookings()}cancelSlot(t,o){for(let s of this.bookings)s.date===t&&s.slots.includes(o)&&(s.slots=s.slots.filter(a=>a!==o));this.bookings=this.bookings.filter(s=>s.slots.length>0),this.slotStatus[t]&&(this.slotStatus[t][o]="available"),this.saveBookings()}isSlotBooked(t,o){return this.slotStatus[t]?.[o]==="booked"}getAllBookings(){return this.bookings}getDatesWithBookings(){let t=new Set;for(let o of this.bookings)t.add(o.date);return Array.from(t)}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e({token:i,factory:i.\u0275fac,providedIn:"root"})};export{n as a};
